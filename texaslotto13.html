<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Texas Lone Star Lotto ü§†‚≠ê</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap" rel="stylesheet" />
<style>
  body {
    margin: 0; padding: 20px;
    font-family: 'Orbitron', sans-serif;
    background: linear-gradient(135deg, #0a1a3a, #bf0a30);
    color: #fff;
    min-height: 100vh;
    display: flex; flex-direction: column; align-items: center;
    overflow: hidden;
    position: relative;
  }
  /* Sparkle particle effect */
  @keyframes sparkle {
    0% {opacity: 0; transform: translateY(0) scale(1);}
    50% {opacity: 1; transform: translateY(-15px) scale(1.2);}
    100% {opacity: 0; transform: translateY(-30px) scale(1);}
  }
  .sparkle {
    position: absolute;
    background: radial-gradient(circle, #ffd700 0%, transparent 70%);
    border-radius: 50%;
    opacity: 0;
    animation: sparkle 3s infinite;
    pointer-events: none;
  }
  .sparkle:nth-child(1) { width: 6px; height: 6px; top: 40%; left: 15%; animation-delay: 0s; }
  .sparkle:nth-child(2) { width: 8px; height: 8px; top: 70%; left: 30%; animation-delay: 1.2s; }
  .sparkle:nth-child(3) { width: 5px; height: 5px; top: 20%; left: 50%; animation-delay: 2.4s; }
  .sparkle:nth-child(4) { width: 7px; height: 7px; top: 60%; left: 75%; animation-delay: 3.6s; }
  .sparkle:nth-child(5) { width: 6px; height: 6px; top: 35%; left: 85%; animation-delay: 4.8s; }

  /* Rule link */
  .rule-link {
    position: absolute;
    top: 30px;
    right: 40px;
    z-index: 10;
    text-decoration: none;
    font-size: 1.2em;
    font-weight: bold;
    color: #222;
    background: linear-gradient(135deg, #ffd700, #ff8c00);
    padding: 12px 26px;
    border-radius: 30px;
    box-shadow: 0 0 18px #ffd700, 0 0 8px #fff;
    transition: all 0.25s;
    letter-spacing: 1px;
    text-shadow: 0 0 6px #fff;
    border: 2px solid #fff;
    animation: rulePulse 2s infinite alternate;
  }
  .rule-link:hover {
    background: linear-gradient(135deg, #ff8c00, #ffd700);
    color: #bf0a30;
    box-shadow: 0 0 40px #ffd700, 0 0 16px #fff;
    transform: scale(1.07);
  }
  @keyframes rulePulse {
    from { box-shadow: 0 0 18px #ffd700, 0 0 8px #fff; }
    to { box-shadow: 0 0 38px #ffd700, 0 0 24px #fff; }
  }

  h1 {
    font-size: 3.5em;
    margin-bottom: 15px;
    color: #ffd700;
    text-shadow:
      0 0 10px #ffd700,
      0 0 20px #ff8c00,
      0 0 30px #bf0a30,
      0 0 40px #ffd700;
    animation: starPulse 2.5s infinite ease-in-out;
  }
  @keyframes starPulse {
    0%, 100% {
      text-shadow:
        0 0 10px #ffd700,
        0 0 20px #ff8c00,
        0 0 30px #bf0a30,
        0 0 40px #ffd700;
    }
    50% {
      text-shadow:
        0 0 20px #ffd700,
        0 0 40px #ff8c00,
        0 0 60px #bf0a30,
        0 0 80px #ffd700;
    }
  }

  #game-container {
    background: rgba(0,0,0,0.85);
    border-radius: 25px;
    padding: 40px 35px;
    max-width: 650px;
    width: 95%;
    box-shadow:
      0 0 40px #ffd700,
      inset 0 0 30px #bf0a30;
    border: 4px solid #ffd700;
    text-align: center;
    position: relative;
    z-index: 1;
  }

  #number-grid {
    display: grid;
    grid-template-columns: repeat(7, 55px);
    gap: 15px;
    justify-content: center;
    margin: 25px 0 20px;
  }
  .number-btn {
    width: 55px; height: 55px;
    border-radius: 50%;
    background: radial-gradient(circle at 30% 30%, #bf0a30, #7c0a1e);
    border: 3px solid #ffd700;
    font-size: 1.5em;
    font-weight: 900;
    cursor: pointer;
    color: #fff;
    box-shadow:
      0 0 15px #ffd700,
      inset 0 0 15px #ffb700;
    display: flex; align-items: center; justify-content: center;
    transition: all 0.3s ease;
    user-select: none;
  }
  .number-btn:hover {
    box-shadow:
      0 0 40px #ffd700,
      inset 0 0 25px #ffb700;
    transform: scale(1.15);
  }
  .number-btn.selected {
    background: linear-gradient(135deg, #ffd700, #bf0a30);
    color: #222;
    box-shadow:
      0 0 50px #ffd700,
      inset 0 0 30px #ffb700;
    transform: scale(1.25);
  }

  #draw-btn, #play-again-btn {
    background: linear-gradient(135deg, #ffd700, #bf0a30);
    border: none;
    border-radius: 30px;
    padding: 18px 45px;
    font-size: 1.9em;
    font-weight: 900;
    color: #222;
    cursor: pointer;
    box-shadow:
      0 0 40px #ffd700,
      inset 0 0 30px #ffb700;
    margin-top: 25px;
    transition: all 0.3s ease;
    user-select: none;
  }
  #draw-btn:disabled {
    background: #555;
    cursor: not-allowed;
    opacity: 0.6;
    box-shadow: none;
    color: #aaa;
    transform: scale(1);
  }
  #draw-btn:hover:not(:disabled), #play-again-btn:hover {
    box-shadow:
      0 0 70px #ffd700,
      inset 0 0 45px #ffb700;
    transform: scale(1.1);
  }

  .numbers-display {
    display: flex;
    justify-content: center;
    gap: 22px;
    margin: 25px 0 20px;
    min-height: 80px;
  }
  .result-ball {
    width: 75px; height: 75px;
    border-radius: 50%;
    font-size: 2.4em;
    font-weight: 900;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #fff;
    background: #222;
    box-shadow:
      0 0 25px #ffd700,
      inset 0 0 25px #bf0a30;
    opacity: 0;
    transform: scale(0.6);
    animation: reveal 0.6s forwards ease;
    user-select: none;
  }
  .result-ball.match {
    background: linear-gradient(135deg, #ffd700, #bf0a30);
    box-shadow:
      0 0 60px #ffd700,
      0 0 40px #ffb700,
      0 0 80px #fff;
    color: #222;
    animation: neon-glow 1.8s infinite alternate ease-in-out, reveal 0.6s forwards;
    border: 3px solid #fff;
    transform: scale(1.15);
  }

  @keyframes neon-glow {
    from {
      box-shadow:
        0 0 40px #ffd700,
        0 0 30px #ffb700;
    }
    to {
      box-shadow:
        0 0 80px #ffd700,
        0 0 60px #fff;
    }
  }
  @keyframes reveal {
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  #summary {
    font-size: 2em;
    font-weight: 900;
    color: #ffd700;
    text-shadow: 0 0 25px #000;
    margin-top: 30px;
    min-height: 60px;
  }

  #lone-star {
    margin: 20px auto 10px;
    width: 90px;
    height: 90px;
    fill: #ffd700;
    filter: drop-shadow(0 0 10px #ffd700);
  }
</style>
</head>
<body>

<a class="rule-link" href="lottorules.html" target="_blank">Lotto Rules</a>

<h1>ü§† Texas Lone Star Lotto ‚≠ê</h1>

<svg id="lone-star" viewBox="0 0 64 64" aria-hidden="true" focusable="false">
  <polygon points="32 4 39 25 60 25 42 39 49 60 32 46 15 60 22 39 4 25 25 25" />
</svg>

<div id="game-container">
  <div id="pick-section">
    <h2>Pick 6 Lucky Texas Numbers</h2>
    <div id="number-grid"></div>
    <button id="draw-btn" disabled>Draw the Lone Star Win!</button>
  </div>
  <div id="result-section" style="display:none;">
    <h2>üåü Texas Lotto Results üåü</h2>
    <div>
      <div><strong>Your Numbers</strong></div>
      <div id="your-numbers" class="numbers-display"></div>
    </div>
    <div>
      <div><strong>Winning Numbers</strong></div>
      <div id="winning-numbers" class="numbers-display"></div>
    </div>
    <div id="summary"></div>
    <button id="play-again-btn">Play Again</button>
  </div>
</div>

<!-- Sparkle particles -->
<div class="sparkle"></div>
<div class="sparkle"></div>
<div class="sparkle"></div>
<div class="sparkle"></div>
<div class="sparkle"></div>

<script>
const totalNumbers = 54; // Lotto Texas: 6 of 54
const pickCount = 6;
let picked = [];

const grid = document.getElementById('number-grid');
const drawBtn = document.getElementById('draw-btn');
const pickSection = document.getElementById('pick-section');
const resultSection = document.getElementById('result-section');
const yourNumbersDiv = document.getElementById('your-numbers');
const winningNumbersDiv = document.getElementById('winning-numbers');
const summaryDiv = document.getElementById('summary');
const playAgainBtn = document.getElementById('play-again-btn');

function getPrize(matches) {
  switch (matches) {
    case 6: return "$10,452,254 (Jackpot!)";
    case 5: return "$2,000";
    case 4: return "$50";
    case 3: return "$3";
    default: return "$0";
  }
}

// Generate number buttons 1-54
for(let i=1; i<=totalNumbers; i++) {
  const btn = document.createElement('div');
  btn.className = 'number-btn';
  btn.textContent = i;
  btn.title = `Pick number ${i}`;
  btn.onclick = () => togglePick(i, btn);
  grid.appendChild(btn);
}

function togglePick(num, btn) {
  const idx = picked.indexOf(num);
  if(idx === -1) {
    if(picked.length < pickCount) {
      picked.push(num);
      btn.classList.add('selected');
    } else {
      alert(`You can only pick ${pickCount} numbers!`);
    }
  } else {
    picked.splice(idx, 1);
    btn.classList.remove('selected');
  }
  drawBtn.disabled = picked.length !== pickCount;
}

drawBtn.onclick = () => {
  // Generate 6 unique winning numbers 1-54
  let win = [];
  while(win.length < pickCount) {
    let r = Math.floor(Math.random() * totalNumbers) + 1;
    if(!win.includes(r)) win.push(r);
  }
  win.sort((a,b) => a-b);
  let user = [...picked].sort((a,b) => a-b);
  showResults(user, win);
};

function showResults(user, win) {
  pickSection.style.display = 'none';
  resultSection.style.display = 'block';

  yourNumbersDiv.innerHTML = '';
  user.forEach((n,i) => {
    const ball = document.createElement('div');
    ball.className = 'result-ball';
    ball.textContent = n;
    ball.style.animationDelay = `${i * 0.12}s`;
    yourNumbersDiv.appendChild(ball);
  });

  winningNumbersDiv.innerHTML = '';
  win.forEach((n,i) => {
    const ball = document.createElement('div');
    ball.className = 'result-ball';
    ball.textContent = n;
    ball.style.animationDelay = `${i * 0.12}s`;
    winningNumbersDiv.appendChild(ball);
  });

  // Wait for all reveal animations to finish before highlighting
  setTimeout(() => {
    highlightMatches(yourNumbersDiv, win);
    highlightMatches(winningNumbersDiv, user);
    const matches = user.filter(n => win.includes(n)).length;
    const prize = getPrize(matches);
    summaryDiv.innerHTML = matches >= 3
      ? `ü§† You matched ${matches}!<br>Prize: <strong>${prize}</strong>`
      : `Matched ${matches}. Prize: <strong>$0</strong><br>Better luck next time, partner!`;
  }, 900);
}

function highlightMatches(container, matchArr) {
  Array.from(container.children).forEach(div => {
    if(matchArr.includes(parseInt(div.textContent))) {
      div.classList.add('match');
    }
  });
}

playAgainBtn.onclick = () => {
  picked = [];
  Array.from(grid.children).forEach(btn => btn.classList.remove('selected'));
  drawBtn.disabled = true;
  pickSection.style.display = 'block';
  resultSection.style.display = 'none';
  summaryDiv.textContent = '';
};
</script>

</body>
</html>
